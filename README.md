# r_selfenc

Create a self-decrypting file for R using AES symmetric encryption (CBC mode). This one single R source file generated by _r_selfenc_ stores encrypted data and the function to decrypt its data.  

## Quick start

### Encrypt

Source `main.R` and call `encrypt_to_source(...)` with some objects to produce an encrypted, self-decrypting R file. A password is generated, if none is provided.

Example
```R
  private_test_1 <- data.frame(a=c(1,2),b=c("a","b"))
  private_test_2 <- function(x) {x*x / 10}
  
  encrypt_to_source(
    c("private_test_1","private_test_2"),
    fn_out="/tmp/my_encrypted_sensitive_data.R"
  )
```

### Decrypt

Decryption is done by typing a single command in R. Just source the self-decrypting R file from an interactive R session (will prompt for the password).

Example
```R
  source("/tmp/my_encrypted_sensitive_data.R")
```
The decrypted objects will be loaded to your environment. Use `ls()` to list them.  

## Requirements

 * digest package

## TODO
 * check if decryption was successful (handle wrong pw)
